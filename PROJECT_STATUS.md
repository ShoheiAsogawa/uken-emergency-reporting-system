# プロジェクト実装状況

## 完了項目 ✅

### フロントエンド

- [x] プロジェクト構造の整理
- [x] 型定義の作成
- [x] 住民向けLIFFアプリ
  - [x] LIFF初期化・認証
  - [x] 通報フォーム（位置情報、カテゴリ、写真、詳細、連絡先）
  - [x] 避難所マップ（暫定実装、Leafletパッケージ必要）
  - [x] 緊急通報ボタン
- [x] 職員向け管理Web
  - [x] ログイン画面（Cognito認証、暫定実装）
  - [x] ダッシュボード（リスト・地図表示）
  - [x] フィルタ・ソート・検索機能
  - [x] 詳細パネル（写真、詳細、メモ、ステータス更新）
  - [x] CSV出力機能
- [x] APIクライアント実装
- [x] ルーティング設定

### ドキュメント

- [x] README作成
- [x] セットアップガイド
- [x] インフラ構築ガイド
- [x] Lambda関数実装ガイド

## 未実装項目 ⏳

### バックエンド（Lambda）

- [ ] LIFF認証実装
- [ ] Cognito認証実装
- [ ] 通報CRUD API
- [ ] 避難所管理API
- [ ] 画像アップロード（署名付きURL発行）
- [ ] レート制限実装
- [ ] 監査ログ実装

### データベース（DynamoDB）

- [ ] Reportsテーブル作成
- [ ] ReportHistoryテーブル作成
- [ ] Sheltersテーブル作成
- [ ] GSI（Global Secondary Index）設定

### インフラ

- [ ] S3バケット作成・設定
- [ ] CloudFront設定
- [ ] API Gateway設定
- [ ] WAF設定
- [ ] Cognito User Pool作成
- [ ] KMSキー作成
- [ ] CloudWatchアラート設定

### セキュリティ

- [ ] レート制限（WAF + サーバ側）
- [ ] 画像検証（形式・容量・枚数）
- [ ] 重複抑制ロジック
- [ ] 監査ログ記録
- [ ] 連絡先保護（権限制御・マスク表示）

### 機能追加

- [ ] 地図上でのピンドラッグ（位置調整）
- [ ] 画像圧縮（クライアント側）
- [ ] MFA認証（Cognito）
- [ ] 権限管理（Viewer/Operator/Admin）
- [ ] 通知機能（新規通報時の通知）

## 次のステップ

1. **バックエンド実装**
   - Lambda関数の実装
   - DynamoDBテーブルの作成
   - API Gatewayの設定

2. **インフラ構築**
   - AWSリソースの作成
   - セキュリティ設定
   - 監視設定

3. **テスト**
   - 単体テスト
   - 統合テスト
   - E2Eテスト

4. **デプロイ**
   - 開発環境
   - ステージング環境
   - 本番環境

## 注意事項

- Leafletパッケージがインストールされていない場合、地図機能は動作しません
- AWS Amplifyパッケージがインストールされていない場合、Cognito認証は暫定実装（API経由）を使用します
- バックエンドAPIが実装されていない場合、フロントエンドは動作しません

## 実装優先順位

1. **最優先**: バックエンドAPI（Lambda）の実装
2. **高**: DynamoDBテーブルの作成
3. **高**: 認証実装（LIFF、Cognito）
4. **中**: インフラ構築
5. **中**: セキュリティ対策
6. **低**: 機能追加・改善

